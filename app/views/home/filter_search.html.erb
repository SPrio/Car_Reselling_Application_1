<h1>Search For Cars using the below filters</h1>
<%= form_tag({controller: "home", :action => 'filter_search'}, method: :get) do %>
<p>
   <%=label_tag :registration_state%>
    <%= select_tag(:registration_state, options_from_collection_for_select(CarRegistrationState.all, :id, :name)) %>
    
  </p>
  <p>
    <%=label_tag :city%>
    <%= select_tag(:city, options_from_collection_for_select(CarCity.all, :id, :name))  %>
    
  </p>
  <p>
   <%=label_tag :brand%>
    <%= select_tag(:brand, options_for_select(['Tata','Toyota','Ford','Maruti Suzuki','Honda'])) %>
    
  </p>
  <p>
   <%=label_tag :model%>
    <%= select_tag(:model, options_for_select(['Indigo','Etios','Figo','Alto','City'])) %>
   
  </p>
  <p>
   <%=label_tag :variant%>
    <%= select_tag(:variant, options_from_collection_for_select(CarVariant.all, :id, :name)) %>
    
  </p>
  <p>
   <%=label_tag :registration_year%>
   <%= select_tag(:registration_year, options_for_select(((CarRegistrationYear.first.start.to_i)..(CarRegistrationYear.first.end.to_i)).to_a)) %>
    
  </p>
  <p>
   <%=label_tag :kilometer_driven%>
    <%= select_tag(:kilometer_driven, options_from_collection_for_select(CarKilometerDriven.all, :id, :range)) %>
   
  </p>
  <p>
   <%= submit_tag "Search Car" %>
  </p>
<% end %>
<table>
<tr>
<th>brand</th>
<th>model</th>
<th>variant</th>
<th>registration year</th>
<th>kilometer driven</th>
<th>city</th>
<th>registration state</th>
</tr>
<%@cars.each do |car|%>
<tr>
<td><%=car.brand %></td>
<td><%=car.model %></td>
<td><%=car.variant %></td>
<td><%=car.registration_year %></td>
<td><%=car.kilometer_driven %></td>
<td><%=car.city %></td>
<td><%=car.registration_state %></td>
</tr>
<% end %>
</table>


<h3>All Cars</h3>

<table>

<tr>
<th>brand</th>
<th>model</th>
<th>variant</th>
<th>registration year</th>
<th>kilometer driven</th>
<th>city</th>
<th>registration state</th>
</tr>
<%Car.all.each do |car|%>
<tr>
<td><%=car.brand %></td>
<td><%=car.model %></td>
<td><%=car.variant %></td>
<td><%=car.registration_year %></td>
<td><%=car.kilometer_driven %></td>
<td><%=car.city %></td>
<td><%=car.registration_state %></td>
</tr>
<% end %>
</table>
